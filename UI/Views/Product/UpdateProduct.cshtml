@using Entity.Concrete
@model Product

@{
    ViewBag.Title = "Add Product";
    ViewBag.pTitle = "Add Product";
    ViewBag.pageTitle = "Ecommerce";
    Layout = "~/Views/_Shared/Layouts/_layout_light_sidebar.cshtml";
}

<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>


<div class="row">
    <div class="col-12">
        <div class="card">
            <div class="card-body">

                <h4 class="card-title">Ürün Bilgileri Güncelleme</h4>
                <p class="card-title-desc">Ürün bilgilerini formdan güncelleyebilirisiniz</p>

                <form action="/Product/UpdateProduct" id="myForm" method="post" onsubmit="AddProduct(event)" enctype="multipart/form-data">
                    <div class="row">
                        <div class="col-sm-6">
                            <input id="productname" name="Id" value="@Model.Id" type="hidden" class="form-control">
                            <div class="mb-3">
                                <label for="productname">Ürün İsmi</label>
                                <input id="productname" name="ProductName" value="@Model.ProductName" type="text" class="form-control">
                            </div>
                            <div class="mb-3">
                                <label class="control-label">Category</label>
                                @Html.DropDownList("CategoryId",(List<SelectListItem>)ViewBag.CategoryList,"Kategori Seçiniz",new {@name="CategoryId", @class="form-select"})
                            </div>
                            <div class="mb-3">
                                <label for="manufacturerbrand">Tüketim Miktarı</label>
                                <input id="manufacturerbrand" name="Consume" type="text" value="@Model.Consume" class="form-control">
                            </div>
                            <div class="mb-3">
                                <label for="price">Uygulama Metodu</label>
                                <input id="price" name="ConsumeMethod" type="text" value="@Model.ConsumeMethod" class="form-control">
                            </div>
                            <div class="mb-3">
                                <label for="price">Ambalajlama</label>
                                <input id="price" name="Packaging" type="text" value="@Model.Packaging" class="form-control">
                            </div>
                        </div>

                        <div class="col-sm-6">

                            <div class="mb-3">
                                <label for="price">Stok Miktarı</label>
                                <input id="price" name="UnitsInStock" type="text" value="@Model.UnitsInStock" class="form-control">
                            </div>

                            <div class="mb-3">
                                <label for="price">Birim Fiyat</label>
                                <input id="price" name="UnitPrice" type="text" value="@Model.UnitPrice" class="form-control">
                            </div>
                            <input id="price" name="ImagePath" type="hidden" value="@Model.ImagePath" class="form-control">
                            <div class="mb-3">
                                <label for="price">Ürün Resmi</label>
                                <input id="price" name="File" type="file" class="form-control">
                            </div>

                        </div>
                    </div>

                    <div class="d-flex flex-wrap gap-2">
                        <button type="submit" class="btn btn-primary waves-effect waves-light">Ürünü Güncelle</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<script>
    function AddProduct(e) {
        e.preventDefault();

        const swalWithBootstrapButtons = Swal.mixin({
            customClass: {
                confirmButton: 'btn btn-success',
                cancelButton: 'btn btn-danger'
            },
            buttonsStyling: false,
        })

        Swal.fire({
            title: 'Ürünü güncellemek istiyor musunuz?',
            icon: 'question',
            showCancelButton: true
        }).then(result => {
            if (result.isConfirmed) {
                const myForm = document.getElementById('myForm');
                myForm.submit();
            }
        })
    }
</script>
<!-- end row -->
<!-- JAVASCRIPT -->
<script src="~/assets/libs/jquery/jquery.min.js"></script>
<script src="~/assets/libs/bootstrap/js/bootstrap.bundle.min.js"></script>
<script src="~/assets/libs/metismenu/metisMenu.min.js"></script>
<script src="~/assets/libs/simplebar/simplebar.min.js"></script>
<script src="~/assets/libs/node-waves/waves.min.js"></script>


<!-- select 2 plugin -->
<script src="~/assets/libs/select2/js/select2.min.js"></script>

<!-- dropzone plugin -->
<script src="~/assets/libs/dropzone/min/dropzone.min.js"></script>

<!-- init js -->
<script src="~/assets/js/pages/ecommerce-select2.init.js"></script>

<!-- App js -->
<script src="~/assets/js/app.js"></script>




